<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>加载SuperMap二三维地图服务</title>

    <!-- 本地引入依赖 -->
    <link href="../lib/Cesium/Widgets/widgets.css" rel="stylesheet">
    <script src="../lib/Cesium/Cesium.js"></script>

    <style type="text/css">
        * {
            margin: 0;
            padding: 0;
        }

        html,
        body,
        #cesiumContainer {
            width: 100%;
            height: 100%;
        }
    </style>
</head>

<body>
    <div id="cesiumContainer"></div>

    <script type="text/javascript">
        var viewer;

        viewer = new Cesium.Viewer('cesiumContainer');
        let scene = viewer.scene;
        scene.debugShowFramesPerSecond = true; //显示帧率，默认不显示

        /*******************************************************************************************
         *
         * （1）加载二维地图服务，缓存格式为：sci
         *
         ******************************************************************************************/
        // （1.1）wgs84坐标系：4326
        let layer = viewer.imageryLayers.addImageryProvider(new Cesium.SuperMapImageryProvider({
            url: "http://www.supermapol.com/realspace/services/map-World/rest/maps/World_Google"
        }));

        // （1.2）web墨卡托：3857
        let layer_MEC = new Cesium.SuperMapImageryProvider({
            url: "http://www.supermapol.com/realspace/services/map-China400/rest/maps/China400",
        });
        // 等待影像加载完成
        layer_MEC.imageryProvider.readyPromise.then(layer => {
            viewer.imageryLayers.addImageryProvider(layer);
            layer.alpha = 0.5; // 设置影像的透明度
        });
        console.log("layer_MEC", layer_MEC);


        /*******************************************************************************************
         *
         * （2）加载三维地图服务，缓存格式为：sci3d，发布的是三维服务
         *      加载接口和二维的相同，服务地址的格式不同
         *      http://192.168.252.116:8091/iserver/services/3D-hdyx/rest/realspace/datas/hdyx
         *
         ******************************************************************************************/
        //
        let sci3dUrl = "http://support.supermap.com.cn:8090/iserver/services/map-china400/rest/maps/China";
        let sci3dImageryProvider = new Cesium.SuperMapImageryProvider({
            url: sci3dUrl
        });
        viewer.imageryLayers.addImageryProvider(sci3dImageryProvider);
    </script>
</body>

</html>