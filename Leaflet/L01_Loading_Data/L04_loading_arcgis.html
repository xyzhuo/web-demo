<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <title>加载ArcGIS地图</title>
    <!-- 1 引入Leaflet依赖 -->
    <!-- 1.1 Leaflet CSS依赖 -->
    <link rel="stylesheet" href="../lib/leaflet/leaflet@1.7.1/dist/leaflet.css">
    <!-- 1.2 Leaflet JS依赖 -->
    <script type="text/javascript" src="../lib/leaflet/leaflet@1.7.1/dist/leaflet.js"></script>

    <style>
        * {
            margin: 0;
            padding: 0;
        }
    </style>

    <!-- 2 引入SuperMap提供的Leaflet插件依赖 -->
    <!-- 2.1 引入SuperMap提供的Leaflet插件CSS依赖 -->
    <link rel="stylesheet" href="../lib/leaflet/leaflet.supermap.iclient/10.1.2/iclient-leaflet.css">
    <!-- 2.2 引入SuperMap提供的Leaflet插件CSS依赖 -->
    <script type="text/javascript" src="../lib/leaflet/leaflet.supermap.iclient/10.1.2/iclient-leaflet.js"></script>

    <!-- Arcgis 提供的插件 -->
    <script src="../lib/leaflet/esri-leaflet@2.2.1/dist/esri-leaflet.js"></script>

    <!-- Leaflet卷帘扩展插件 -->
    <script type="text/javascript" src="../lib/leaflet/leaflet.sidebyside/leaflet-side-by-side.js"></script>

    <link rel="stylesheet" href="../lib/leaflet/@geoman-io/leaflet-geoman-free/dist/leaflet-geoman.min.js">
    <script type="text/javascript" src="../lib/leaflet/@geoman-io/leaflet-geoman-free/dist/leaflet-geoman.min.js"></script>

    <!-- Leaflet鹰眼图插件 -->
    <link rel="stylesheet" href="../lib/leaflet/leaflet.miniMap/3.6.1/dist/Control.MiniMap.min.css">
    <script type="text/javascript" src="../lib/leaflet/leaflet.miniMap/3.6.1/dist/Control.MiniMap.js"></script>

    <!-- jQuery -->
    <script src="../lib/jQuery/jquery-3.2.1.min.js"></script>
</head>

<body style=" margin: 0;overflow: hidden;background: #fff;width: 100%;height:100%;position: absolute;top: 0;">
    <div id="map" style="margin:0 auto;width: 100%;height: 100%"></div>
    <div id="latlngInfo" style="position: absolute;z-index: 9999;left: 10px;bottom: 0px;"></div>
    <script type="text/javascript">
        /**
         * ArcGIS Leaflet 提供的在线帮助
         *      
         */

        let map = L.map("map", {
            center: [23.458207269894125, 113.48739624023439], // 地图初始化后的中心点
            zoom: 3, // 地图初始化后显示的层级
            maxZoom: 18, // 地图显示最大层级
        });

        // // 加载arcgis切片地图服务：使用xyz格式
        // L.tileLayer("http://map.geoq.cn/ArcGIS/rest/services/ChinaOnlineCommunity/MapServer/tile/{z}/{y}/{x}", {
        //     maxZoom: 18,
        //     minZoom: 4,
        //     pane: "overlayPane"
        // }).addTo(map);

        /*****************************************************************************************************************
         * 
         * 使用Arcgis对Leaflet提供的接口加载服务
         *      需要引入Arcgis提供的Leaflet依赖插件
         * 
         ****************************************************************************************************************/
        // 加载Arcgis封装的数据服务
        // 地图图层："ShadedRelief"、"Oceans"、"Gray"、"DarkGray"、"Terrain"、"Imagery" // ArcGIS自带的地图
        // 标注图层："ShadedReliefLabels"、"OceansLabels"、"GrayLabels"、DarkGrayLabels、"TerrainLabels"、"ImageryLabels"
        // L.esri.basemapLayer("ShadedRelief").addTo(map);
        // L.esri.basemapLayer("ShadedReliefLabels").addTo(map);

        // 加载Arcgis server提供的地图服务
        L.esri.tiledMapLayer({
            url: "https://services.arcgisonline.com/ArcGIS/rest/services/USA_Topo_Maps/MapServer"
        }).addTo(map);

        // L.esri.tiledMapLayer({
        //     url: "https://services.arcgisonline.com/ArcGIS/rest/services/Specialty/World_Navigation_Charts/MapServer",
        //     detectRetina: false,
        //     minZoom: 3,
        //     maxZoom: 10
        // }).addTo(map);

        // // 添加ArcGIS要素图层
        // L.esri.featureLayer({
        //     url: "https://sampleserver6.arcgisonline.com/arcgis/rest/services/Earthquakes_Since1970/MapServer/0"
        // }).addTo(map);

        // L.esri.imageMapLayer({
        //     url: "https://landsat.arcgis.com/arcgis/rest/services/Landsat/PS/ImageServer",
        //     attribution: 'United States Geological Survey (USGS), National Aeronautics and Space Administration (NASA)'
        // }).addTo(map);
    </script>

</body>

</html>