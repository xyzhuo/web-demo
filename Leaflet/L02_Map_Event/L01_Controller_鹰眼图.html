<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <title>Leaflet鹰眼图</title>
    <!-- 1 引入Leaflet依赖 -->
    <!-- 1.1 Leaflet CSS依赖 -->
    <link rel="stylesheet" href="../lib/leaflet/leaflet@1.7.1/dist/leaflet.css">
    <!-- 1.2 Leaflet JS依赖 -->
    <script type="text/javascript" src="../lib/leaflet/leaflet@1.7.1/dist/leaflet.js"></script>

    <style>
        * {
            margin: 0;
            padding: 0;
        }
    </style>

    <!-- 2 引入SuperMap提供的Leaflet插件依赖 -->
    <!-- 2.1 引入SuperMap提供的Leaflet插件CSS依赖 -->
    <link rel="stylesheet" href="../lib/leaflet/leaflet.supermap.iclient/10.1.2/iclient-leaflet.css">
    <!-- 2.2 引入SuperMap提供的Leaflet插件CSS依赖 -->
    <script type="text/javascript" src="../lib/leaflet/leaflet.supermap.iclient/10.1.2/iclient-leaflet.js"></script>

    <!-- Leaflet卷帘扩展插件 -->
    <script type="text/javascript" src="../lib/leaflet/leaflet.sidebyside/leaflet-side-by-side.js"></script>

    <link rel="stylesheet" href="../lib/leaflet/@geoman-io/leaflet-geoman-free/dist/leaflet-geoman.min.js">
    <script type="text/javascript" src="../lib/leaflet/@geoman-io/leaflet-geoman-free/dist/leaflet-geoman.min.js"></script>

    <!-- Leaflet鹰眼图插件 -->
    <link rel="stylesheet" href="../lib/leaflet/leaflet.miniMap/3.6.1/dist/Control.MiniMap.min.css">
    <script type="text/javascript" src="../lib/leaflet/leaflet.miniMap/3.6.1/dist/Control.MiniMap.js"></script>
</head>

<body style=" margin: 0;overflow: hidden;background: #fff;width: 100%;height:100%;position: absolute;top: 0;">
    <div id="map" style="margin:0 auto;width: 100%;height: 100%"></div>
    <div id="latlngInfo" style="position: absolute;z-index: 9999;left: 10px;bottom: 0px;"></div>
    <script type="text/javascript">
        let map = L.map('map', {
            center: [32, 112],
            maxZoom: 18,
            zoom: 1
        });
        // map.setView(L.latLng(59.92448055859924, 10.758276373601069), 10); // 设置地图当前中心点、缩放级别

        let baseUrl = "https://iserver.supermap.io/iserver/services/map-china400/rest/maps/China";

        // 1、在地图中添加iServer 地图服务
        let osm = L.supermap.tiledMapLayer(baseUrl, {
            minZoom: 5, // 图层的最小层级
            maxZoom: 18, // 图层的最大层级
            noWrap: true // 图层是否X方向平铺
        });
        map.addLayer(osm);

        // 2、创建一个加载在窗口中的图层
        let osm2 = L.supermap.tiledMapLayer(baseUrl, {
            minZoom: 0,
            maxZoom: 13,
            noWrap: true
        });

        // 3、将图层添加到鹰眼图控件中
        const minimapControl = L.control.minimap(osm2, {
            mapOptions: {
                logoControl: false
            },
            toggleDisplay: true
        });

        // 4、将鹰眼图控件添加到地图
        minimapControl.addTo(map);
    </script>
</body>

</html>